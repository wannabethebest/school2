!function(t){var n,a,o,r,e,u,c,h,m,p,g,f,y,v,s={},d=t.okModules||(t.okModules={}),I=t.document;I.documentElement;function _(e,t){this.model=e||{},this.root=t,this.associatedFields=e.fields}function E(e){var t,n=e.data;if(n){try{t=JSON.parse(n)}catch(e){}var a,s=e.origin;if(s.lastIndexOf("/")!==s.length-1&&(s+="/"),t){var o,i=t.action,r=t.action_params;if("payError"===i)return a=r,w(),F("js-hide-on-pay",!1),u.removeClass(f,"hidden"),void c.log(c.Level.WARNING,"donatePayError",a.code||null);if("resizeFrame"===i)!r||(o=r.height)&&(p.style.height=o+12+"px");else if("3dsPage"===i)p._okHeightCache=p.style.height,p.style.height="";else if("3dsFinish"===i)p.style.height=p._okHeightCache,delete p._okHeightCache;else if("waiterStart"===i)return void F("js-hide-on-pay",!0);if("paySuccess"!==i)return;var d,l=0===s.indexOf(m);if(0!==s.indexOf(v)&&!l)return;y&&y.checked&&(d=y.getAttribute("data-group-id"),h.run("group.payment.messages.on",{groupId:d})),function(e){w(),u.removeClass(g,"hidden");var t=e.action_params.payment_info;if(!t)return;C("js-pay_company",t.company),C("js-pay_number",t.transaction_id),C("js-pay_operation_type",t.operation_type),C("js-pay_amount",t.amount),C("js-pay_date",t.date)}(t)}}}function C(e,t){t&&(I.getElementsByClassName(e)[0].textContent=t)}function w(){u.addClass(p,"hidden")}function F(e,t){for(var n=I.getElementsByClassName(e),a=n.length;0<a--;)u.switchClass(n[a],t,"hidden")}s.h=d.tZ1fdwg,s.n=d.drmw1pw,s.s=d.sq2VowA,s.ah=d.bNXpVIA,s.es=d.aClBajg,s.rp=d.cKYfWEw,s.rq=d.dvd0lw||(d.dvd0lw=(n=s.ah,a=s.n,_.prototype={constructor:_,getValue:function(e){return parseInt(e.getAttribute("data-value"),10)},setValueToFields:function(e){var t=this.associatedFields;for(i=0,l=t.length;i<l;i++){var n,a=I.getElementById(t[i]);a&&(a.value=(parseInt(a.value,10)||0)+e,n=new Event("input",{bubbles:!0,cancelable:!0}),a.dispatchEvent(n))}},addValue:{touchEnd:function(e){n.allowDefault(e)},tap:function(e,t){var n=this.getValue(t);this.setValueToFields(n),a.addClass(t,"__touched"),setTimeout(function(){a.removeClass(t,"__touched")},150)}}},n.register("donateFastInput",_),t)),s.rr=d.luHezIQ||(d.luHezIQ=(o=t.okHead.requestBeacon,{Level:r={INFO:"info",WARNING:"warning",ERROR:"error"},log:function(e,t,n){var a,s;o&&(a=[o,"&st.lvl=",encodeURIComponent(e||r.INFO),"&st.key=",encodeURIComponent(t||""),"&st.msg=",encodeURIComponent(n||""),"&rnd=",Math.floor(9999999*Math.random())].join(""),s=new Image,setTimeout(function(){s.src=a},10))}})),s.rs=d.d1FuAZQ||(d.d1FuAZQ=(e=s.s,s.h,s.ah,u=s.n,c=s.rr,h=s.es,v="",e.create({name:"initDonateDmrListener",update:function(e){t.addEventListener("message",E),v=e.expectedOrigin,m=e.dmrStubOrigin,e.dmrStubResultSuccess,g=I.getElementById("donate-pay-success"),f=I.getElementById("donate-pay-fail"),p=I.getElementById("donate-pay-frame"),y=I.getElementById("donate-pay-messages-on")},discard:function(){t.removeEventListener("message",E)}}),t)),d.d7RlGog||(d.d7RlGog=(s.rp,s.rq,s.rs,t))}(this);