this.OK=this.OK||{},this.OK.dailyphoto=this.OK.dailyphoto||{},this.OK.dailyphoto.quasiState=function(t){"use strict";function i(t){t.prototype.getModel=function(){return this.t},t.prototype.commit=function(){this.i.commit()},t.prototype.u=function(t){var i=t[0].oldValue,n=t[t.length-1].value;if(i!==n){this.notifyObservers({key:null,value:n,oldValue:i});var r={};for(var u in t.filter((function(t){return t.o&&null!==t.key&&void 0!==t.key})).forEach((function(t){r[t.o.h]=t})),r)r.hasOwnProperty(u)&&r[u].o.notifyObservers([{key:r[u].key,value:n,oldValue:i}])}},t.prototype.v=function(t,i,n,r){this.t=n,this.i.put({o:t,key:i,value:n,oldValue:r})},t.prototype.addObserver=function(t,i){return void 0===i&&(i=!0),this.l.push(t),i&&t(v(this)),this.removeObserver.bind(this,t)},t.prototype.removeObserver=function(t){var i=this.l.indexOf(t);-1!==i&&this.l.splice(i,1)},t.prototype.removeAllObservers=function(){this.l.length=0},t.prototype.notifyObservers=function(t){var i=this;this.l.slice().forEach((function(n){n(v(i),t)}))}}function n(t){j.call(this,t)}i(n),n.prototype.get=function(){return this.getModel()},n.prototype.set=function(t,i,n){if(void 0===i&&(i=this),void 0===n&&(n=null),"object"==typeof t)throw new TypeError;this.v(i,n,t,this.t)},n.prototype.valueOf=function(){return this.getModel()},n.prototype.toString=function(){return String(this.getModel())};var r=function(){return r=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(t[u]=i[u]);return t},r.apply(this,arguments)};function u(t,i,s){if(void 0===s&&(s=!0),a(t))return t;if(c(t)){var e=Object.getPrototypeOf(t);if(e!==Object.prototype&&e!==Array.prototype)return t}var f,h=function(t){if(Array.isArray(t))return[].concat(t);if(c(t))return r({},t);return t}(t);if(c(h))for(var v in h)h.hasOwnProperty(v)&&(h[v]=u(h[v],i,s));return s||t===i?(f=h,Array.isArray(f)?new w(f):c(f)?new o(f):new n(f)):h}function s(t,i){return u(t,t,i)}function e(t){t.prototype.get=function(t){return void 0!==t?this[t]:this},t.prototype.set=function(t,i,n){if(1===arguments.length){var u=s(t);if(u.constructor!==this.constructor)throw new TypeError;this.v(this,b,u,r({},this))}else this.v(this,t,n?i:s(i),this.t[t])},t.prototype.commit=function(){this.j.forEach((function(t){t.i.commit()})),this.i.commit(),this.j.length=0},t.prototype.O=function(t,i){void 0===i&&(i=!0),Object.defineProperty(this,t,{enumerable:i,configurable:!0,get:function(){if(!(this instanceof w&&t>=this.length))return v(this.t[t])},set:function(i){!c(i)&&this.t[t]instanceof n?(this.t[t].set(i,this,t),this.j.push(this.t[t])):this.v(this,t,s(i),this.t[t])}})},t.prototype.v=function(t,i,n,r){var u=this,s=!1;i===b?(this instanceof o&&(Object.keys(this).forEach((function(t){Object.defineProperty(u,t,{configurable:!0,get:function(){},set:function(i){u.g(t,i,!1)}})})),s=!0),this.t=n.getModel()):(this.t[i]||(s=!0),this.t[i]=n),(s=s||this instanceof w&&this.p!==this.length)&&this.q(),this.i.put({o:t,key:i,value:n,oldValue:r})},t.prototype.u=function(t){for(var i={},n=[],u=0;u<t.length;u++){var s=t[u];i[s.key]?i[s.key].value=s.value:i[s.key]=s}for(var e in i)if(i.hasOwnProperty(e)){var o=i[e];o.value!==o.oldValue&&n.push(r(r({},o),{value:v(o.value),oldValue:v(o.oldValue)}))}n.length&&this.notifyObservers(n)}}function o(t){j.call(this,r({},t)),this.q()}o.prototype.constructor=o,i(o),e(o),o.prototype.q=function(){for(var t in this.t)this.t.hasOwnProperty(t)&&this.O(t)},o.prototype.g=function(t,i,n){this.v(this,t,n?i:s(i),l)};var f=0;function h(){return f=(f+1)%Number.MAX_VALUE}function c(t){return"object"==typeof t&&null!==t}function a(t){return t instanceof n||t instanceof o||t instanceof w}function v(t){return t&&t.get?t.get():t}var l="quasi$empty",b="quasi$reset",d=function(){function t(t){this.$=null,this.A=[],this.m=t}return t.prototype.put=function(t){return null===this.$&&this.V(),this.A.push(t),this},t.prototype.commit=function(){return!(null===this.$||!this.A.length)&&(this.$=null,this.m(this.A),!0)},t.prototype.V=function(){var t=this;this.$=h(),this.A.length=0,Promise.resolve(this.$).then((function(i){i===t.$&&t.commit()}))},t}();function j(t){Object.defineProperty(this,"h",{value:h()}),Object.defineProperty(this,"t",{writable:!0,value:t}),Object.defineProperty(this,"l",{value:[]}),Object.defineProperty(this,"i",{value:new d(this.u.bind(this))}),Object.defineProperty(this,"j",{value:[]})}var O=["splice","pop","shift","unshift"];function y(){Object.defineProperty(this,"length",{get:function(){return this.t.length},set:function(t){this.t.length=t}}),Object.defineProperty(this,"k",{writable:!0,value:0}),Object.defineProperty(this,"p",{writable:!0,value:-1})}function w(t){j.call(this,[].concat(t)),y.call(this),this.q()}function g(t){var i=function(t){if(!a(t))return t;var i,n=v(t);if(t instanceof w){i=[];for(var r=0;r<n.length;r++)i.push(n[r]);return i}if(t instanceof o){for(var u in i={},n)n.hasOwnProperty(u)&&(i[u]=n[u]);return i}return n}(t);if(c(i))for(var n in i)i.hasOwnProperty(n)&&(i[n]=g(i[n]));return i}w.prototype=Object.create(Array.prototype),w.prototype.constructor=w,i(w),e(w),O.forEach((function(t){w.prototype[t]=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=Array.prototype[t].apply(this.t,i);return this.q(),this.notifyObservers(),g(r)}})),w.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=this.slice(),r=0;r<t.length;r++)n=n.concat(t[r].slice());return new w(n)},w.prototype.q=function(){for(var t=this.length,i=0;i<this.k;i++)this.O(i,i<t);if(this.k-t<50){var n=Math.max(t,this.k)+100;for(i=this.k;i<n;i++)this.O(i,i<t);this.k=n}this.p=t};var p=function(){function t(t){this.subscriptions=[],this.store=t}return t.prototype.errorLogger=function(t){console.error(t)},t.prototype.loggerWrapper=function(t){var i=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{t.apply(void 0,n)}catch(t){i.errorLogger(t)}}},t.prototype.registerObserver=function(t){this.subscriptions.push(t)},t.prototype.destroy=function(){this.subscriptions.forEach((function(t){t()})),this.subscriptions.length=0,this.store=null},t}(),q=function(){function t(){this.quasi$={fields:{}}}return t.prototype.commit=function(t){var i=this.quasi$.fields[t];a(i)&&i.commit()},t.prototype.getModel=function(i){t.prototype.quasi$extr=!0,i();var n=t.prototype.quasi$extr;return t.prototype.quasi$extr=void 0,n},t}();function $(t,i,n){Object.defineProperty(t,i,{get:function(){var t=this.quasi$.fields[i];if(!q.prototype.quasi$extr)return v(t);q.prototype.quasi$extr=t},set:function(t){if(a(this.quasi$.fields[i])){if(a(t))return void(this.quasi$.fields[i]=t);this.quasi$.fields[i].set(t)}else{var n=s(t,!0);this.quasi$.fields[i]=n}}})}return t.AbstractStore=q,t.AbstractWatcher=p,t.DEBUG="quasi$debug",t.EMPTY=l,t.HIDE_FORCE_COMMIT_CHECK="1",t.HIDE_FREQUENCY_CHECK="2",t.RESET=b,t.arrayDiff=function(t,i,n){var r=t.slice(),u=i.slice();if(u.length>r.length){if(!r.length)return{value:u,action:0};if(u[0][n]===r[0][n])if(r.every((function(t,i){return t[n]===u[i][n]})))return{value:u.slice(r.length),action:0};if(u[u.length-1][n]===r[r.length-1][n]){var s=u.length-r.length;if(r.every((function(t,i){return t[n]===u[s+i][n]})))return{value:u.slice(0,s),action:1}}}return{value:u,action:2}},t.extendObservable=function(t,i,n){var r=n?t:s(t);for(var u in i)i.hasOwnProperty(u)&&r.g(u,i[u],n);return r},t.getUniqueId=h,t.getValue=v,t.isObservable=a,t.observable=s,t.toJS=g,t.watch=function(t){return function(i,n){var r;Object.defineProperty(i,n,{get:function(){return r},set:function(i){r=this.loggerWrapper(i);var n=this.store.getModel(t.bind(null,this)).addObserver(r,!1);this.registerObserver(n)}})}},t.watched=function(t,i){if("string"!=typeof i)return function(t,i){$(t,i)};$(t,i)},Object.defineProperty(t,"T",{value:!0}),t}({});
